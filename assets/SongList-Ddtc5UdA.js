import{j as m,P as f,_ as c,c as y,w as e,b as l,d as n,l as a,e as i,m as h,g as x,h as L,p as C,s as r,i as v}from"./index-BJodI4HF.js";const w={name:"songList",components:{CardContainer:c,Play20Regular:f},data(){return{details:{},songList:{},loading:!0,onError:!1}},props:{id:{type:String,default:""}},async created(){try{this.details=await r.getPlaylistDetail(this.id),console.log("获取到的歌单详情:",this.details),this.songList=await r.getSonglistContent(this.id),console.log("获取到的歌单信息:",this.songList)}catch(t){console.error("Error fetching songlist:",t),this.onError=!0}finally{this.loading=!1}},methods:{playAll:async t=>{console.log("播放全部操作"),console.log("专辑歌曲列表:",t),await C.playMulti(t.songs||[])}}},E=["src"],P={class:"h-full flex flex-col gap-4"},S={class:"text-4xl font-bold"},b={class:"album-meta"};function B(t,o,V,k,s,g){const _=h("Play20Regular"),d=x,p=c,u=L;return v(),y(u,{loading:s.loading,onError:s.onError},{header:e(()=>[n("img",{class:"ratio-1-1 mr-4 h-40 rounded-xl",src:s.details?.coverImgUrl+"?param=300y300"||null,alt:"艺术家封面"},null,8,E),n("div",P,[n("h1",S,a(s.details?.name),1),n("div",b,[i(a(s.songList?.total),1),o[1]||(o[1]=n("span",null," 首音乐",-1))]),l(d,{onClick:o[0]||(o[0]=N=>g.playAll(s.songList))},{default:e(()=>[l(_),o[2]||(o[2]=i("播放全部 ",-1))]),_:1,__:[2]})])]),tabs:e(()=>o[3]||(o[3]=[])),content:e(()=>[l(p,{layout:"compact",music_info_list:s.songList.songs},null,8,["music_info_list"])]),_:1},8,["loading","onError"])}const A=m(w,[["render",B]]);export{A as default};
