import{u as y,a as p,r as g,o as x,c as v,w as a,b as t,_ as w,d as r,e as i,f as u,P as R,g as k,A as D,h as S,i as h,p as B,t as n}from"./index-BJodI4HF.js";const b={class:"flex flex-col justify-center mx-2 gap-2"},A={class:"flex mb-4 gap-2"},N={__name:"DailyRecommend",setup(C){const l=y(),_=p(),s=g([]),m=async()=>{if(!_?.cookies)return console.log("未登录"),[];try{const e=await l.getDailyRecommend();return console.log("获取到的每日推荐歌曲:",e),e}catch(e){return console.error("获取每日推荐失败:",e),[]}};function f(){console.log("播放全部操作"),console.log("专辑歌曲列表:",s.value);try{B.playMulti(s.value||[])}catch(e){console.error("播放失败:",e),n.error("播放失败,请检查网络连接")}}async function d(){try{s.value=await l.freshDailyRecommend(),n.success("刷新成功")}catch(e){console.error("刷新失败:",e),n.error("刷新失败,请检查网络连接")}}return x(async()=>{s.value=await m()}),(e,o)=>{const c=k;return h(),v(S,null,{header:a(()=>[r("div",b,[o[2]||(o[2]=r("h1",{class:"text-4xl font-bold"},"每日推荐",-1)),o[3]||(o[3]=r("p",{class:""},"云 销 雨 霁， 彩 彻 区 明",-1)),r("div",A,[t(c,{onClick:f},{default:a(()=>[t(u(R)),o[0]||(o[0]=i(" 播放全部 ",-1))]),_:1,__:[0]}),t(c,{onClick:d},{default:a(()=>[t(u(D)),o[1]||(o[1]=i(" 刷新 ",-1))]),_:1,__:[1]})])])]),content:a(()=>[t(w,{layout:"list",music_info_list:s.value},null,8,["music_info_list"])]),_:1})}}};export{N as default};
